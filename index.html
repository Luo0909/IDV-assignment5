<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Visualization & Singapore PSI Data</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .description {
            color: #7f8c8d;
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* Tab navigation */
        .tabs {
            display: flex;
            margin-bottom: 20px;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .tab {
            flex: 1;
            padding: 15px 20px;
            text-align: center;
            background: #ecf0f1;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            color: #7f8c8d;
        }
        
        .tab.active {
            background: #3498db;
            color: white;
        }
        
        .tab:hover:not(.active) {
            background: #d5dbdb;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Visualization grid styles */
        .visualization-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(600px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .visualization-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .visualization-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
        
        .card-header {
            padding: 15px 20px;
            background: #3498db;
            color: white;
            font-weight: bold;
        }
        
        .card-content {
            padding: 20px;
            height: 500px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        /* PSI table styles */
        .psi-section {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 30px;
        }
        
        #PSItable, .psi-table th, .psi-table td {
            border: 1px solid black;
            border-collapse: collapse;
            padding: 8px;
            text-align: center;
            width: 100%;
        }
        
        .psi-table th {
            background-color: #f2f2f2;
        }
        
        .psi-table td {
            background-color: #fafafa;
        }
        
        /* SVG effects table styles */
        .svg-section {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 20px;
        }
        
        .svg-table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 20px;
        }
        
        .svg-table td {
            border: 1px solid #333;
            padding: 10px;
            text-align: center;
            vertical-align: middle;
        }
        
        /* Effect classes */
        .mirror {
            transform: scaleX(-1);
        }
        
        .rotate180 {
            transform: rotate(180deg);
        }
        
        .squeeze {
            transform: scaleY(0.5);
        }
        
        .grayscale svg, .grayscale img {
            filter: grayscale(100%);
        }
        
        .svg-table td svg {
            width: 100px;
            height: auto;
        }
        
        .svg-table img {
            width: 100px;
            height: 100px;
        }
        
        /* Model Performance Dashboard Styles */
        .dashboard {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .dashboard-container {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 25px;
            margin-bottom: 30px;
            position: relative;
        }
        
        .data-label {
            position: absolute;
            top: 10px;
            left: 10px;
            background: #4dabf7;
            color: white;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 14px;
            font-weight: bold;
            z-index: 10;
        }
        
        .dashboard-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
            background-color: #f8f9fa;
            padding: 10px 15px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .dashboard-label {
            font-weight: 500;
            color: #495057;
        }
        
        .dashboard-select {
            padding: 8px 12px;
            border: 1px solid #ced4da;
            border-radius: 6px;
            background-color: white;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .dashboard-select:focus {
            outline: none;
            border-color: #4dabf7;
            box-shadow: 0 0 0 3px rgba(77, 171, 247, 0.25);
        }
        
        .charts-container {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
        }
        
        .chart {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s;
            position: relative;
        }
        
        .chart:hover {
            transform: translateY(-5px);
        }
        
        .chart-title {
            text-align: center;
            margin-bottom: 15px;
            font-weight: 600;
            color: #2c3e50;
            font-size: 18px;
        }
        
        .radar-container, .heatmap-container {
            display: flex;
            justify-content: center;
        }
        
        .axisLabel {
            font-size: 12px;
            fill: #555;
            font-weight: 500;
        }
        
        .line {
            fill: none;
            stroke-width: 2px;
            opacity: 0.8;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        
        .dot {
            fill-opacity: 0.8;
            transition: all 0.5s ease;
            cursor: pointer;
        }
        
        .highlight {
            opacity: 1 !important;
            stroke-width: 4px;
            filter: drop-shadow(0 0 5px rgba(0, 0, 0, 0.3));
        }
        
        .faded {
            opacity: 0.2;
        }
        
        .dashboard-tooltip {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.85);
            color: white;
            padding: 10px 15px;
            border-radius: 6px;
            pointer-events: none;
            font-size: 13px;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 100;
            max-width: 250px;
            transform: translateY(10px);
        }
        
        .dashboard-tooltip h3 {
            margin: 0 0 5px 0;
            font-size: 14px;
            color: #4dabf7;
        }
        
        .dashboard-tooltip p {
            margin: 3px 0;
        }
        
        .dashboard-legend {
            display: flex;
            justify-content: center;
            margin-top: 15px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .dashboard-legend-item {
            display: flex;
            align-items: center;
            margin: 0 10px 5px 0;
            cursor: pointer;
            transition: all 0.3s;
            padding: 5px 10px;
            border-radius: 20px;
            background-color: #f8f9fa;
        }
        
        .dashboard-legend-item:hover {
            background-color: #e9ecef;
            transform: translateY(-2px);
        }
        
        .dashboard-legend-color {
            width: 15px;
            height: 15px;
            margin-right: 8px;
            border-radius: 50%;
            transition: all 0.3s;
        }
        
        .dashboard-legend-item.active .dashboard-legend-color {
            transform: scale(1.2);
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
        }
        
        .heatmap-cell {
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            cursor: pointer;
        }
        
        .heatmap-cell:hover {
            stroke: #333;
            stroke-width: 2px;
            filter: brightness(1.1);
        }
        
        .grid-line {
            stroke: #e0e0e0;
            stroke-width: 1;
            transition: stroke 0.5s;
        }
        
        .grid-line.animate {
            stroke-dasharray: 5, 5;
            animation: dash 20s linear infinite;
        }
        
        @keyframes dash {
            to {
                stroke-dashoffset: -1000;
            }
        }
        
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 400px;
            font-size: 18px;
            color: #6c757d;
        }
        
        .loading:after {
            content: '';
            width: 20px;
            height: 20px;
            margin-left: 10px;
            border: 2px solid #6c757d;
            border-right-color: transparent;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }
        
        .cell {
            transition: all 0.3s ease;
        }
        
        .axis-label {
            font-size: 14px;
            font-weight: bold;
        }
        
        .section-header {
            text-align: center;
            margin-bottom: 20px;
            color: #2c3e50;
            font-size: 24px;
            font-weight: 600;
            border-bottom: 2px solid #e9ecef;
            padding-bottom: 10px;
        }
        
        .dashboard-description {
            text-align: center;
            color: #6c757d;
            margin-bottom: 25px;
            font-size: 14px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.5;
        }
        
        @media (max-width: 768px) {
            .visualization-grid {
                grid-template-columns: 1fr;
            }
            
            .card-content {
                height: auto;
                min-height: 400px;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .charts-container {
                flex-direction: column;
            }
            
            .chart {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Data Visualization & Singapore PSI Data</h1>
            <p class="description">A collection of interactive data visualizations, Singapore PSI data, SVG effects, and model performance analysis.</p>
        </header>
        
        <div class="tabs">
            <div class="tab active" data-tab="visualizations">Data Visualizations</div>
            <div class="tab" data-tab="psi">Singapore PSI Data</div>
            <div class="tab" data-tab="svg">SVG Effects</div>
            <div class="tab" data-tab="model-performance">Model Performance</div>
        </div>
        
        <!-- Data Visualizations Tab -->
        <div class="tab-content active" id="visualizations">
            <div class="visualization-grid">
                <!-- Visualization 1: Parallelogram Mirror View -->
                <div class="visualization-card">
                    <div class="card-header">Parallelogram Mirror View</div>
                    <div class="card-content" id="parallelogram-container">
                        <svg width="500" height="400">
                            <rect x="50" y="50" width="200" height="150" fill="rgba(74, 144, 226, 0.3)" stroke="#3366cc" stroke-width="2" />
                            <rect x="150" y="150" width="200" height="150" fill="rgba(74, 144, 226, 0.3)" stroke="#3366cc" stroke-width="2" transform="scale(-1, 1) translate(-500, 0)" />
                            <line x1="50" y1="50" x2="150" y2="150" stroke="#ff6600" stroke-width="2" stroke-dasharray="5,5" />
                            <line x1="250" y1="50" x2="350" y2="150" stroke="#ff6600" stroke-width="2" stroke-dasharray="5,5" />
                            <line x1="50" y1="200" x2="150" y2="300" stroke="#ff6600" stroke-width="2" stroke-dasharray="5,5" />
                            <line x1="250" y1="200" x2="350" y2="300" stroke="#ff6600" stroke-width="2" stroke-dasharray="5,5" />
                            <text x="50" y="40" class="point-label">A</text>
                            <text x="250" y="40" class="point-label">B</text>
                            <text x="50" y="220" class="point-label">C</text>
                            <text x="250" y="220" class="point-label">D</text>
                            <text x="350" y="40" class="point-label">A'</text>
                            <text x="150" y="40" class="point-label">B'</text>
                            <text x="350" y="220" class="point-label">C'</text>
                            <text x="150" y="220" class="point-label">D'</text>
                        </svg>
                    </div>
                </div>
                
                <!-- Visualization 2: Venn Diagram -->
                <div class="visualization-card">
                    <div class="card-header">Venn Diagram</div>
                    <div class="card-content" id="venn-container">
                        <svg width="500" height="400">
                            <circle cx="200" cy="200" r="120" fill="rgba(255, 0, 0, 0.5)" stroke="#333" stroke-width="2" class="venn-circle" />
                            <circle cx="300" cy="200" r="120" fill="rgba(0, 255, 0, 0.5)" stroke="#333" stroke-width="2" class="venn-circle" />
                            <circle cx="250" cy="280" r="120" fill="rgba(0, 0, 255, 0.5)" stroke="#333" stroke-width="2" class="venn-circle" />
                            <text x="180" y="180" text-anchor="middle" font-size="16" font-weight="bold">Set A</text>
                            <text x="320" y="180" text-anchor="middle" font-size="16" font-weight="bold">Set B</text>
                            <text x="250" y="320" text-anchor="middle" font-size="16" font-weight="bold">Set C</text>
                            <text x="250" y="220" text-anchor="middle" font-size="14" font-weight="bold">A∩B∩C</text>
                        </svg>
                    </div>
                </div>
                
                <!-- Visualization 3: Grid Background with Arrow Path -->
                <div class="visualization-card">
                    <div class="card-header">Grid Background with Arrow Path</div>
                    <div class="card-content" id="grid-path-container">
                        <svg width="500" height="400">
                            <defs>
                                <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
                                    <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#e0e0e0" stroke-width="1"/>
                                </pattern>
                                <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
                                    <polygon points="0 0, 10 3.5, 0 7" fill="#3498db"/>
                                </marker>
                            </defs>
                            <rect width="100%" height="100%" fill="url(#grid)" />
                            <path d="M 50 100 C 150 50, 250 150, 350 100 S 450 200, 450 300" 
                                  stroke="#3498db" stroke-width="3" fill="none" marker-end="url(#arrowhead)" />
                            <circle cx="50" cy="100" r="5" fill="#e74c3c" />
                            <circle cx="450" cy="300" r="5" fill="#e74c3c" />
                            <text x="50" y="90" text-anchor="middle" font-size="12">Start</text>
                            <text x="450" y="290" text-anchor="middle" font-size="12">End</text>
                        </svg>
                    </div>
                </div>
                
                <!-- Visualization 4: Cross Validation Accuracy -->
                <div class="visualization-card">
                    <div class="card-header">Cross Validation Accuracy</div>
                    <div class="card-content" id="accuracy-container">
                        <svg width="500" height="400">
                            <!-- X-axis -->
                            <line x1="50" y1="350" x2="450" y2="350" stroke="#333" stroke-width="2" />
                            <!-- Y-axis -->
                            <line x1="50" y1="50" x2="50" y2="350" stroke="#333" stroke-width="2" />
                            
                            <!-- Y-axis labels -->
                            <text x="30" y="50" text-anchor="middle" font-size="12">100%</text>
                            <text x="30" y="150" text-anchor="middle" font-size="12">75%</text>
                            <text x="30" y="250" text-anchor="middle" font-size="12">50%</text>
                            <text x="30" y="350" text-anchor="middle" font-size="12">25%</text>
                            
                            <!-- X-axis labels -->
                            <text x="150" y="370" text-anchor="middle" font-size="12">Fold 1</text>
                            <text x="250" y="370" text-anchor="middle" font-size="12">Fold 2</text>
                            <text x="350" y="370" text-anchor="middle" font-size="12">Fold 3</text>
                            
                            <!-- Data points and line -->
                            <circle cx="150" cy="100" r="5" fill="#3498db" />
                            <circle cx="250" cy="150" r="5" fill="#3498db" />
                            <circle cx="350" cy="120" r="5" fill="#3498db" />
                            
                            <path d="M 150 100 L 250 150 L 350 120" stroke="#3498db" stroke-width="2" fill="none" />
                            
                            <!-- Average line -->
                            <line x1="50" y1="123" x2="450" y2="123" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,5" />
                            <text x="470" y="123" text-anchor="start" font-size="12" fill="#e74c3c">Avg: 82.3%</text>
                        </svg>
                    </div>
                </div>
                
                <!-- Visualization 5: Zhejiang Map -->
                <div class="visualization-card">
                    <div class="card-header">Zhejiang Map</div>
                    <div class="card-content" id="map-container">
                        <svg width="500" height="400" viewBox="0 0 500 400">
                            <!-- Simplified Zhejiang province outline -->
                            <path d="M 100 100 L 150 80 L 200 120 L 250 100 L 300 150 L 350 120 L 400 180 L 380 250 L 320 280 L 250 220 L 180 260 L 120 200 Z" 
                                  fill="#a8d5e5" stroke="#2c3e50" stroke-width="2" />
                            
                            <!-- Major cities -->
                            <circle cx="200" cy="150" r="8" fill="#e74c3c" />
                            <text x="210" y="145" font-size="12" font-weight="bold">Hangzhou</text>
                            
                            <circle cx="280" cy="180" r="8" fill="#e74c3c" />
                            <text x="290" y="175" font-size="12" font-weight="bold">Ningbo</text>
                            
                            <circle cx="150" cy="200" r="8" fill="#e74c3c" />
                            <text x="160" y="195" font-size="12" font-weight="bold">Wenzhou</text>
                            
                            <circle cx="320" cy="220" r="6" fill="#3498db" />
                            <text x="330" y="215" font-size="10">Shaoxing</text>
                            
                            <circle cx="250" cy="250" r="6" fill="#3498db" />
                            <text x="260" y="245" font-size="10">Jinhua</text>
                            
                            <!-- Title -->
                            <text x="250" y="30" text-anchor="middle" font-size="16" font-weight="bold">Zhejiang Province</text>
                        </svg>
                    </div>
                </div>
                
                <!-- Visualization 6: Mathematical Plots -->
                <div class="visualization-card">
                    <div class="card-header">Mathematical Plots</div>
                    <div class="card-content" id="math-plots-container">
                        <svg width="500" height="400" viewBox="0 0 500 400">
                            <!-- Coordinate system -->
                            <line x1="50" y1="200" x2="450" y2="200" stroke="#333" stroke-width="1" />
                            <line x1="250" y1="50" x2="250" y2="350" stroke="#333" stroke-width="1" />
                            
                            <!-- Sine wave -->
                            <path d="M 50 200 
                                     C 100 150, 150 250, 200 200
                                     C 250 150, 300 250, 350 200
                                     C 400 150, 450 250, 450 200" 
                                  stroke="#3498db" stroke-width="2" fill="none" />
                            
                            <!-- Cosine wave -->
                            <path d="M 50 250 
                                     C 100 300, 150 200, 200 250
                                     C 250 300, 300 200, 350 250
                                     C 400 300, 450 200, 450 250" 
                                  stroke="#e74c3c" stroke-width="2" fill="none" />
                            
                            <!-- Parabola -->
                            <path d="M 50 350 Q 250 50 450 350" 
                                  stroke="#2ecc71" stroke-width="2" fill="none" />
                            
                            <!-- Labels -->
                            <text x="470" y="200" text-anchor="start" font-size="12">x</text>
                            <text x="250" y="30" text-anchor="middle" font-size="12">y</text>
                            <text x="100" y="170" text-anchor="middle" font-size="10" fill="#3498db">sin(x)</text>
                            <text x="100" y="280" text-anchor="middle" font-size="10" fill="#e74c3c">cos(x)</text>
                            <text x="400" y="100" text-anchor="middle" font-size="10" fill="#2ecc71">x²</text>
                        </svg>
                    </div>
                </div>
                
                <!-- Visualization 7: Word Network -->
                <div class="visualization-card">
                    <div class="card-header">Word Network</div>
                    <div class="card-content" id="network-container">
                        <svg width="500" height="400">
                            <!-- Central node -->
                            <circle cx="250" cy="200" r="30" fill="#3498db" />
                            <text x="250" y="205" text-anchor="middle" fill="white" font-weight="bold">Data</text>
                            
                            <!-- Connected nodes -->
                            <circle cx="150" cy="120" r="20" fill="#e74c3c" />
                            <text x="150" y="125" text-anchor="middle" fill="white" font-size="10">Analysis</text>
                            
                            <circle cx="350" cy="120" r="20" fill="#e74c3c" />
                            <text x="350" y="125" text-anchor="middle" fill="white" font-size="10">Visualization</text>
                            
                            <circle cx="150" cy="280" r="20" fill="#e74c3c" />
                            <text x="150" y="285" text-anchor="middle" fill="white" font-size="10">Processing</text>
                            
                            <circle cx="350" cy="280" r="20" fill="#e74c3c" />
                            <text x="350" y="285" text-anchor="middle" fill="white" font-size="10">Science</text>
                            
                            <!-- Secondary nodes -->
                            <circle cx="80" cy="80" r="15" fill="#2ecc71" />
                            <text x="80" y="85" text-anchor="middle" fill="white" font-size="8">Statistics</text>
                            
                            <circle cx="420" cy="80" r="15" fill="#2ecc71" />
                            <text x="420" y="85" text-anchor="middle" fill="white" font-size="8">Charts</text>
                            
                            <circle cx="80" cy="320" r="15" fill="#2ecc71" />
                            <text x="80" y="325" text-anchor="middle" fill="white" font-size="8">Cleaning</text>
                            
                            <circle cx="420" cy="320" r="15" fill="#2ecc71" />
                            <text x="420" y="325" text-anchor="middle" fill="white" font-size="8">ML</text>
                            
                            <!-- Connections -->
                            <line x1="250" y1="200" x2="150" y2="120" stroke="#7f8c8d" stroke-width="2" />
                            <line x1="250" y1="200" x2="350" y2="120" stroke="#7f8c8d" stroke-width="2" />
                            <line x1="250" y1="200" x2="150" y2="280" stroke="#7f8c8d" stroke-width="2" />
                            <line x1="250" y1="200" x2="350" y2="280" stroke="#7f8c8d" stroke-width="2" />
                            
                            <line x1="150" y1="120" x2="80" y2="80" stroke="#7f8c8d" stroke-width="1" />
                            <line x1="350" y1="120" x2="420" y2="80" stroke="#7f8c8d" stroke-width="1" />
                            <line x1="150" y1="280" x2="80" y2="320" stroke="#7f8c8d" stroke-width="1" />
                            <line x1="350" y1="280" x2="420" y2="320" stroke="#7f8c8d" stroke-width="1" />
                        </svg>
                    </div>
                </div>
                
                <!-- Visualization 8: Model Frequency Distribution -->
                <div class="visualization-card">
                    <div class="card-header">Model Frequency Distribution</div>
                    <div class="card-content" id="frequency-container">
                        <svg width="500" height="400">
                            <!-- X-axis -->
                            <line x1="50" y1="350" x2="450" y2="350" stroke="#333" stroke-width="2" />
                            <!-- Y-axis -->
                            <line x1="50" y1="50" x2="50" y2="350" stroke="#333" stroke-width="2" />
                            
                            <!-- Y-axis labels -->
                            <text x="30" y="50" text-anchor="middle" font-size="12">100</text>
                            <text x="30" y="150" text-anchor="middle" font-size="12">75</text>
                            <text x="30" y="250" text-anchor="middle" font-size="12">50</text>
                            <text x="30" y="350" text-anchor="middle" font-size="12">25</text>
                            
                            <!-- Bars -->
                            <rect x="80" y="250" width="40" height="100" fill="#3498db" />
                            <text x="100" y="245" text-anchor="middle" font-size="12">CNN</text>
                            
                            <rect x="140" y="200" width="40" height="150" fill="#3498db" />
                            <text x="160" y="195" text-anchor="middle" font-size="12">RNN</text>
                            
                            <rect x="200" y="150" width="40" height="200" fill="#3498db" />
                            <text x="220" y="145" text-anchor="middle" font-size="12">LSTM</text>
                            
                            <rect x="260" y="100" width="40" height="250" fill="#3498db" />
                            <text x="280" y="95" text-anchor="middle" font-size="12">Transformer</text>
                            
                            <rect x="320" y="180" width="40" height="170" fill="#3498db" />
                            <text x="340" y="175" text-anchor="middle" font-size="12">GAN</text>
                            
                            <rect x="380" y="220" width="40" height="130" fill="#3498db" />
                            <text x="400" y="215" text-anchor="middle" font-size="12">BERT</text>
                            
                            <!-- Title -->
                            <text x="250" y="30" text-anchor="middle" font-size="16" font-weight="bold">Model Usage Frequency</text>
                        </svg>
                    </div>
                </div>
                
                <!-- Visualization 9: Transformer Architecture -->
                <div class="visualization-card">
                    <div class="card-header">Transformer Architecture</div>
                    <div class="card-content" id="transformer-container">
                        <svg width="500" height="400">
                            <!-- Input -->
                            <rect x="50" y="150" width="80" height="40" fill="#3498db" stroke="#2c3e50" stroke-width="2" />
                            <text x="90" y="175" text-anchor="middle" fill="white" font-size="10">Input</text>
                            
                            <!-- Embedding -->
                            <rect x="150" y="150" width="80" height="40" fill="#e74c3c" stroke="#2c3e50" stroke-width="2" />
                            <text x="190" y="175" text-anchor="middle" fill="white" font-size="10">Embedding</text>
                            
                            <!-- Positional Encoding -->
                            <rect x="250" y="150" width="80" height="40" fill="#2ecc71" stroke="#2c3e50" stroke-width="2" />
                            <text x="290" y="175" text-anchor="middle" fill="white" font-size="10">Positional Encoding</text>
                            
                            <!-- Encoder Stack -->
                            <rect x="350" y="50" width="100" height="300" fill="#9b59b6" stroke="#2c3e50" stroke-width="2" />
                            <text x="400" y="30" text-anchor="middle" font-size="12" font-weight="bold">Encoder</text>
                            
                            <!-- Encoder Layers -->
                            <rect x="370" y="80" width="60" height="40" fill="#8e44ad" stroke="#2c3e50" stroke-width="1" />
                            <text x="400" y="100" text-anchor="middle" fill="white" font-size="8">Self-Attention</text>
                            
                            <rect x="370" y="130" width="60" height="40" fill="#8e44ad" stroke="#2c3e50" stroke-width="1" />
                            <text x="400" y="150" text-anchor="middle" fill="white" font-size="8">Feed Forward</text>
                            
                            <rect x="370" y="180" width="60" height="40" fill="#8e44ad" stroke="#2c3e50" stroke-width="1" />
                            <text x="400" y="200" text-anchor="middle" fill="white" font-size="8">Add & Norm</text>
                            
                            <!-- Repeat pattern -->
                            <text x="400" y="230" text-anchor="middle" font-size="10">...</text>
                            
                            <rect x="370" y="250" width="60" height="40" fill="#8e44ad" stroke="#2c3e50" stroke-width="1" />
                            <text x="400" y="270" text-anchor="middle" fill="white" font-size="8">Layer N</text>
                            
                            <!-- Output -->
                            <rect x="470" y="150" width="80" height="40" fill="#3498db" stroke="#2c3e50" stroke-width="2" />
                            <text x="510" y="175" text-anchor="middle" fill="white" font-size="10">Output</text>
                            
                            <!-- Arrows -->
                            <line x1="130" y1="170" x2="150" y2="170" stroke="#333" stroke-width="2" />
                            <line x1="230" y1="170" x2="250" y2="170" stroke="#333" stroke-width="2" />
                            <line x1="330" y1="170" x2="350" y2="170" stroke="#333" stroke-width="2" />
                            <line x1="450" y1="170" x2="470" y2="170" stroke="#333" stroke-width="2" />
                            
                            <!-- Title -->
                            <text x="250" y="30" text-anchor="middle" font-size="16" font-weight="bold">Transformer Architecture</text>
                        </svg>
                    </div>
                </div>
                
                <!-- Visualization 10: Interactive Stick Figure -->
                <div class="visualization-card">
                    <div class="card-header">Interactive Stick Figure</div>
                    <div class="card-content" id="stick-figure-container">
                        <svg width="500" height="400">
                            <!-- Head -->
                            <circle cx="250" cy="100" r="30" fill="#f1c40f" stroke="#2c3e50" stroke-width="2" />
                            
                            <!-- Body -->
                            <line x1="250" y1="130" x2="250" y2="230" stroke="#2c3e50" stroke-width="3" />
                            
                            <!-- Arms -->
                            <line x1="250" y1="150" x2="200" y2="180" stroke="#2c3e50" stroke-width="3" />
                            <line x1="250" y1="150" x2="300" y2="180" stroke="#2c3e50" stroke-width="3" />
                            
                            <!-- Legs -->
                            <line x1="250" y1="230" x2="220" y2="300" stroke="#2c3e50" stroke-width="3" />
                            <line x1="250" y1="230" x2="280" y2="300" stroke="#2c3e50" stroke-width="3" />
                            
                            <!-- Face -->
                            <circle cx="240" cy="90" r="5" fill="#2c3e50" />
                            <circle cx="260" cy="90" r="5" fill="#2c3e50" />
                            <path d="M 235 110 Q 250 120 265 110" stroke="#2c3e50" stroke-width="2" fill="none" />
                            
                            <!-- Ground -->
                            <line x1="50" y1="300" x2="450" y2="300" stroke="#7f8c8d" stroke-width="3" />
                            
                            <!-- Title -->
                            <text x="250" y="350" text-anchor="middle" font-size="16" font-weight="bold">Interactive Stick Figure</text>
                            <text x="250" y="370" text-anchor="middle" font-size="12">(Hover to see animation)</text>
                        </svg>
                    </div>
                </div>
                
                <!-- Visualization 11: Bimodal Probability Density -->
                <div class="visualization-card">
                    <div class="card-header">Bimodal Probability Density</div>
                    <div class="card-content" id="probability-container">
                        <svg width="500" height="400">
                            <!-- X-axis -->
                            <line x1="50" y1="350" x2="450" y2="350" stroke="#333" stroke-width="2" />
                            <!-- Y-axis -->
                            <line x1="50" y1="50" x2="50" y2="350" stroke="#333" stroke-width="2" />
                            
                            <!-- First distribution -->
                            <path d="M 50 350 
                                     Q 150 200 250 350
                                     Q 350 200 450 350" 
                                  stroke="#3498db" stroke-width="2" fill="rgba(52, 152, 219, 0.2)" />
                            
                            <!-- Second distribution -->
                            <path d="M 50 350 
                                     Q 150 100 250 350
                                     Q 350 100 450 350" 
                                  stroke="#e74c3c" stroke-width="2" fill="rgba(231, 76, 60, 0.2)" />
                            
                            <!-- Labels -->
                            <text x="100" y="180" text-anchor="middle" font-size="12" fill="#3498db">Distribution 1</text>
                            <text x="100" y="80" text-anchor="middle" font-size="12" fill="#e74c3c">Distribution 2</text>
                            
                            <!-- Title -->
                            <text x="250" y="30" text-anchor="middle" font-size="16" font-weight="bold">Bimodal Probability Density</text>
                        </svg>
                    </div>
                </div>
                
                <!-- Visualization 12: Square Overlap -->
                <div class="visualization-card">
                    <div class="card-header">Square Overlap</div>
                    <div class="card-content" id="square-overlap-container">
                        <svg width="500" height="400">
                            <!-- First square -->
                            <rect x="150" y="150" width="200" height="200" fill="rgba(52, 152, 219, 0.7)" stroke="#2980b9" stroke-width="2" />
                            
                            <!-- Second square -->
                            <rect x="200" y="100" width="200" height="200" fill="rgba(231, 76, 60, 0.7)" stroke="#c0392b" stroke-width="2" />
                            
                            <!-- Overlap area -->
                            <rect x="200" y="150" width="150" height="150" fill="rgba(155, 89, 182, 0.7)" stroke="#8e44ad" stroke-width="2" />
                            
                            <!-- Labels -->
                            <text x="250" y="250" text-anchor="middle" fill="white" font-weight="bold">Overlap Area</text>
                            <text x="200" y="80" text-anchor="middle" font-size="12" fill="#c0392b">Square B</text>
                            <text x="150" y="140" text-anchor="end" font-size="12" fill="#2980b9">Square A</text>
                            
                            <!-- Title -->
                            <text x="250" y="30" text-anchor="middle" font-size="16" font-weight="bold">Square Overlap Visualization</text>
                        </svg>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Singapore PSI Data Tab -->
        <div class="tab-content" id="psi">
            <div class="psi-section">
                <h2>Singapore PSI Data</h2>
                <h3 id="timestring"></h3>
                <table class="psi-table" id="PSItable"> 
                    <tr>
                        <th>Metric</th>
                        <th>Central</th>
                        <th>West</th>
                        <th>East</th>
                        <th>North</th>
                        <th>South</th>
                        <th>National</th>
                    </tr>
                </table>
            </div>
        </div>
        
        <!-- SVG Effects Tab -->
        <div class="tab-content" id="svg">
            <div class="svg-section">
                <h2>SVG Effects Showcase</h2>
                <table class="svg-table">
                    <tr>
                        <td class="original">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="100" height="100">
                            <path d="M32 0 L64 64 H0 Z" fill="red"/>
                        </td>
                        <td class="mirror">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="100" height="100">
                            <path d="M32 0 L64 64 H0 Z" fill="red"/>
                        </td>
                        <td class="rotate180">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="100" height="100">
                            <path d="M32 0 L64 64 H0 Z" fill="red"/>
                        </td>
                        <td class="squeeze">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="100" height="100">
                            <path d="M32 0 L64 64 H0 Z" fill="red"/>
                        </td>
                        <td class="grayscale">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64" width="100" height="100">
                            <path d="M32 0 L64 64 H0 Z" fill="red"/>
                        </td>
                    </tr>

                    <tr>
                        <td class="original">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                                <circle cx="32" cy="32" r="25" fill="skyblue"/>
                            </svg>
                        </td>
                        <td class="mirror">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                                <circle cx="32" cy="32" r="25" fill="skyblue"/>
                            </svg>
                        </td>
                        <td class="rotate180">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                                <circle cx="32" cy="32" r="25" fill="skyblue"/>
                            </svg>
                        </td>
                        <td class="squeeze">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                                <circle cx="32" cy="32" r="25" fill="skyblue"/>
                            </svg>
                        </td>
                        <td class="grayscale">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
                                <circle cx="32" cy="32" r="25" fill="skyblue"/>
                            </svg>
                        </td>
                    </tr>
                    
                    <tr>
                        <td class="original">
                            <img src="https://www.svgrepo.com/show/530644/calculator.svg" width="100" height="100">
                        </td>
                        <td class="mirror">
                            <img src="https://www.svgrepo.com/show/530644/calculator.svg" width="100" height="100">
                        </td>
                        <td class="rotate180">
                            <img src="https://www.svgrepo.com/show/530644/calculator.svg" width="100" height="100">
                        </td>
                        <td class="squeeze">
                            <img src="https://www.svgrepo.com/show/530644/calculator.svg" width="100" height="100">
                        </td>
                        <td class="grayscale">
                            <img src="https://www.svgrepo.com/show/530644/calculator.svg" width="100" height="100">
                        </td>
                    </tr>
                    
                    <tr>
                        <td class="original">
                            <img src="https://www.svgrepo.com/show/503853/weather.svg" width="100" height="100">
                        </td>
                        <td class="mirror">
                            <img src="https://www.svgrepo.com/show/503853/weather.svg" width="100" height="100">
                        </td>
                        <td class="rotate180">
                            <img src="https://www.svgrepo.com/show/503853/weather.svg" width="100" height="100">
                        </td>
                        <td class="squeeze">
                            <img src="https://www.svgrepo.com/show/503853/weather.svg" width="100" height="100">
                        </td>
                        <td class="grayscale">
                            <img src="https://www.svgrepo.com/show/503853/weather.svg" width="100" height="100">
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        
        <!-- Model Performance Dashboard Tab -->
        <div class="tab-content" id="model-performance">
            <div class="dashboard">
                <h1>Model Performance & Adversarial Robustness Dashboard</h1>
                <div class="subtitle">Comprehensive analysis of defense models across multiple datasets and attack scenarios</div>
                
                <!-- Data 1: Model Performance Visualization -->
                <div class="dashboard-container">
                    <div class="data-label">Model Performance Analysis</div>
                    <div class="section-header">Model Performance Metrics</div>
                    <div class="dashboard-description">
                        This section compares different defense approaches across multiple datasets using Standard Accuracy, 
                        Certified Robustness Rate, and Certified Robust Accuracy metrics.
                    </div>
                    
                    <div class="dashboard-controls">
                        <div class="control-group">
                            <label for="metricSelect" class="dashboard-label">Select Metric:</label>
                            <select id="metricSelect" class="dashboard-select">
                                <option value="Standard">Standard Accuracy</option>
                                <option value="Robustness">Certified Robustness Rate</option>
                                <option value="Certified">Certified Robust Accuracy</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="charts-container">
                        <div class="chart">
                            <div class="chart-title">Performance Comparison</div>
                            <div class="radar-container">
                                <svg id="radarChart" width="500" height="500"></svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="dashboard-tooltip" id="dashboard-tooltip"></div>

    <script>
        // Tab functionality
        document.addEventListener('DOMContentLoaded', function() {
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    // Remove active class from all tabs and contents
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked tab and corresponding content
                    tab.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                    
                    // Initialize model performance dashboard if it's the active tab
                    if (tabId === 'model-performance') {
                        setTimeout(() => {
                            initModelPerformanceDashboard();
                        }, 100);
                    }
                });
            });
            
            // Initialize PSI data
            fetchPSIData();
            
            // Initialize model performance dashboard if it's the active tab
            if (document.querySelector('.tab[data-tab="model-performance"]').classList.contains('active')) {
                setTimeout(() => {
                    initModelPerformanceDashboard();
                }, 100);
            }
            
            // Add interactivity to stick figure
            const stickFigure = document.getElementById('stick-figure-container');
            if (stickFigure) {
                stickFigure.addEventListener('mouseover', function() {
                    const svg = this.querySelector('svg');
                    const arms = svg.querySelectorAll('line:nth-child(3), line:nth-child(4)');
                    const legs = svg.querySelectorAll('line:nth-child(5), line:nth-child(6)');
                    
                    arms.forEach(arm => {
                        arm.style.transform = 'rotate(10deg)';
                        arm.style.transformOrigin = '250px 150px';
                    });
                    
                    legs.forEach(leg => {
                        leg.style.transform = 'rotate(5deg)';
                        leg.style.transformOrigin = '250px 230px';
                    });
                });
                
                stickFigure.addEventListener('mouseout', function() {
                    const svg = this.querySelector('svg');
                    const arms = svg.querySelectorAll('line:nth-child(3), line:nth-child(4)');
                    const legs = svg.querySelectorAll('line:nth-child(5), line:nth-child(6)');
                    
                    arms.forEach(arm => {
                        arm.style.transform = 'rotate(0deg)';
                    });
                    
                    legs.forEach(leg => {
                        leg.style.transform = 'rotate(0deg)';
                    });
                });
            }
        });

        // PSI Data Fetching Function
        async function fetchPSIData() {
            try {
                // Mock data for demonstration
                const mockData = {
                    items: [{
                        update_timestamp: "2023-10-15T12:00:00+08:00",
                        readings: {
                            "o3_sub_index": {central: 12, west: 10, east: 14, north: 11, south: 13, national: 12},
                            "pm10_twenty_four_hourly": {central: 32, west: 28, east: 35, north: 30, south: 33, national: 31},
                            "pm10_sub_index": {central: 32, west: 28, east: 35, north: 30, south: 33, national: 31},
                            "co_sub_index": {central: 6, west: 5, east: 7, north: 6, south: 6, national: 6},
                            "pm25_twenty_four_hourly": {central: 18, west: 16, east: 20, north: 17, south: 19, national: 18},
                            "so2_sub_index": {central: 4, west: 3, east: 5, north: 4, south: 4, national: 4},
                            "co_eight_hour_max": {central: 0.6, west: 0.5, east: 0.7, north: 0.6, south: 0.6, national: 0.6},
                            "no2_one_hour_max": {central: 24, west: 22, east: 26, north: 23, south: 25, national: 24},
                            "so2_twenty_four_hourly": {central: 4, west: 3, east: 5, north: 4, south: 4, national: 4},
                            "pm25_sub_index": {central: 18, west: 16, east: 20, north: 17, south: 19, national: 18},
                            "psi_twenty_four_hourly": {central: 32, west: 28, east: 35, north: 30, south: 33, national: 31}
                        }
                    }]
                };

                const data = mockData; // In a real implementation, you would fetch from the API

                const timestamp = data.items[0].update_timestamp;
                document.getElementById("timestring").textContent = `Timestamp: ${timestamp}`;

                const readings = data.items[0].readings;

                for (const metric in readings) {
                    const row = document.createElement("tr");

                    const cellMetric = document.createElement("td");
                    cellMetric.textContent = metric;
                    row.appendChild(cellMetric);

                    ["central", "west", "east", "north", "south", "national"].forEach(region => {
                        const cell = document.createElement("td");
                        cell.textContent = readings[metric][region] ?? "-";
                        row.appendChild(cell);
                    });

                    document.getElementById("PSItable").appendChild(row);
                }
            } catch (error) {
                console.error("Error fetching PSI data:", error);
                document.getElementById("timestring").textContent = "Failed to load PSI data.";
            }
        }

        // Model Performance Dashboard Code
        function initModelPerformanceDashboard() {
            // Data 1: Model Performance
            const data1 = [
                {Approach: "ERM", "Std Acc - CIFAR100": 81.03, "Std Acc - CIFAR10": 94.85, "Std Acc - SVHN": 94.44, "Std Acc - MNIST": 99.37},
                {Approach: "DA", "Std Acc - CIFAR100": 78.27, "Std Acc - CIFAR10": 94.21, "Std Acc - SVHN": 94.69, "Std Acc - MNIST": 99.42},
                {Approach: "PGDT", "Std Acc - CIFAR100": 64.35, "Std Acc - CIFAR10": 84.38, "Std Acc - SVHN": 91.19, "Std Acc - MNIST": 99.16},
                {Approach: "TRADES", "Std Acc - CIFAR100": 62.55, "Std Acc - CIFAR10": 80.42, "Std Acc - SVHN": 86.16, "Std Acc - MNIST": 99.1},
                {Approach: "MART", "Std Acc - CIFAR100": 63.68, "Std Acc - CIFAR10": 81.54, "Std Acc - SVHN": 90.2, "Std Acc - MNIST": 98.94},
                {Approach: "RS", "Std Acc - CIFAR100": 56.87, "Std Acc - CIFAR10": 89.45, "Std Acc - SVHN": 88.35, "Std Acc - MNIST": 97.16},
                {Approach: "IBP", "Std Acc - CIFAR100": 39.45, "Std Acc - CIFAR10": 48.4, "Std Acc - SVHN": 73.09, "Std Acc - MNIST": 97.78},
                {Approach: "PRL", "Std Acc - CIFAR100": 64.89, "Std Acc - CIFAR10": 93.82, "Std Acc - SVHN": 92, "Std Acc - MNIST": 99.32},
                {Approach: "TandT", "Std Acc - CIFAR100": 65.56, "Std Acc - CIFAR10": 94.23, "Std Acc - SVHN": 94.79, "Std Acc - MNIST": 99.32},
            ];

            // Define metrics for Data 1
            const metrics = {
                "Standard": ["Std Acc - CIFAR100", "Std Acc - CIFAR10", "Std Acc - SVHN", "Std Acc - MNIST"]
            };

            // Color scale for Data 1
            const colorScale1 = d3.scaleSequential(d3.interpolatePlasma).domain([0, data1.length]);

            // Initialize SVG elements for Data 1
            const radarSvg = d3.select("#radarChart"),
                  tooltip = d3.select("#dashboard-tooltip");

            const radarWidth = +radarSvg.attr("width"),
                  radarHeight = +radarSvg.attr("height"),
                  radarRadius = Math.min(radarWidth, radarHeight) / 2 - 60;

            // Create radar chart group for Data 1
            const radarG = radarSvg.append("g")
                .attr("transform", `translate(${radarWidth/2},${radarHeight/2})`);

            // Draw radar chart function for Data 1
            function drawRadar(metric) {
                const allAxis = metrics[metric];
                const angleSlice = Math.PI * 2 / allAxis.length;
                const rScale = d3.scaleLinear().range([0, radarRadius]).domain([0, 100]);
                
                // Clear existing content
                radarG.selectAll("*").remove();
                
                // Draw grid lines
                for (let level = 1; level <= 5; level++) {
                    const r = radarRadius / 5 * level;
                    
                    // Circular grid lines
                    radarG.append("circle")
                        .attr("r", r)
                        .style("fill", "none")
                        .style("stroke", "#CDCDCD")
                        .style("stroke-dasharray", "2,2");
                    
                    // Grid labels
                    radarG.append("text")
                        .attr("x", 0)
                        .attr("y", -r)
                        .attr("dy", "0.35em")
                        .text(`${level * 20}%`)
                        .style("font-size", "10px")
                        .style("fill", "#999")
                        .style("text-anchor", "middle");
                }
                
                // Draw axes
                allAxis.forEach((axis, i) => {
                    const angle = angleSlice * i - Math.PI / 2;
                    
                    // Axis line
                    radarG.append("line")
                        .attr("x1", 0)
                        .attr("y1", 0)
                        .attr("x2", rScale(100) * Math.cos(angle))
                        .attr("y2", rScale(100) * Math.sin(angle))
                        .attr("stroke", "#CDCDCD");
                    
                    // Axis label
                    radarG.append("text")
                        .attr("x", rScale(105) * Math.cos(angle))
                        .attr("y", rScale(105) * Math.sin(angle))
                        .text(axis.replace("Std Acc - ", ""))
                        .attr("class", "axisLabel")
                        .attr("text-anchor", "middle")
                        .attr("dy", "0.35em");
                });
                
                // Draw data paths
                const paths = radarG.selectAll(".lineGroup")
                    .data(data1)
                    .enter()
                    .append("g")
                    .attr("class", "lineGroup");
                
                // Path animation
                paths.append("path")
                    .attr("d", d => {
                        const lineGenerator = d3.lineRadial()
                            .radius(a => rScale(d[a]))
                            .angle((a, i) => i * angleSlice)
                            .curve(d3.curveCardinalClosed);
                        return lineGenerator(allAxis);
                    })
                    .attr("stroke", (d, i) => colorScale1(i))
                    .attr("class", "line")
                    .style("opacity", 0.8)
                    .on("mouseover", function(event, d) {
                        d3.selectAll(".line").classed("faded", true);
                        d3.select(this).classed("faded", false).classed("highlight", true);
                        
                        // Add pulse animation
                        d3.select(this)
                            .transition()
                            .duration(500)
                            .ease(d3.easeElasticOut)
                            .attr("stroke-width", 4);
                    })
                    .on("mouseout", function() {
                        d3.selectAll(".line").classed("faded", false).classed("highlight", false);
                        
                        // Restore original width
                        d3.select(this)
                            .transition()
                            .duration(300)
                            .attr("stroke-width", 2);
                    });
                
                // Data point animation
                paths.selectAll(".dot")
                    .data(d => allAxis.map(a => ({axis: a, value: d[a], Approach: d.Approach})))
                    .enter()
                    .append("circle")
                    .attr("cx", d => rScale(d.value) * Math.cos(allAxis.indexOf(d.axis) * angleSlice - Math.PI / 2))
                    .attr("cy", d => rScale(d.value) * Math.sin(allAxis.indexOf(d.axis) * angleSlice - Math.PI / 2))
                    .attr("r", 5)
                    .attr("fill", d => colorScale1(data1.findIndex(e => e.Approach === d.Approach)))
                    .attr("class", "dot")
                    .on("mouseover", function(event, d) {
                        d3.select(this)
                            .transition()
                            .duration(200)
                            .attr("r", 8)
                            .style("fill-opacity", 1);
                        
                        tooltip.transition()
                            .duration(200)
                            .style("opacity", 1)
                            .style("transform", "translateY(0)");
                        tooltip.html(`<h3>${d.Approach}</h3><p>${d.axis}: ${d.value}%</p>`)
                            .style("left", (event.pageX + 10) + "px")
                            .style("top", (event.pageY - 20) + "px");
                    })
                    .on("mousemove", function(event, d) {
                        tooltip.style("left", (event.pageX + 10) + "px")
                            .style("top", (event.pageY - 20) + "px");
                    })
                    .on("mouseout", function() {
                        d3.select(this)
                            .transition()
                            .duration(300)
                            .attr("r", 5)
                            .style("fill-opacity", 0.8);
                        
                        tooltip.transition()
                            .duration(200)
                            .style("opacity", 0)
                            .style("transform", "translateY(10px)");
                    });
                
                // Add legend
                const legend = radarG.append("g")
                    .attr("transform", `translate(${-radarWidth/2 + 20}, ${-radarHeight/2 + 20})`);
                
                data1.forEach((d, i) => {
                    const legendItem = legend.append("g")
                        .attr("transform", `translate(0, ${i * 25})`)
                        .style("cursor", "pointer")
                        .on("click", function() {
                            const isActive = d3.select(this).classed("active");
                            d3.selectAll(".legend-item").classed("active", false);
                            
                            if (!isActive) {
                                d3.select(this).classed("active", true);
                                // Highlight selected approach
                                const index = data1.findIndex(item => item.Approach === d.Approach);
                                d3.selectAll(".line").classed("faded", true);
                                d3.selectAll(".lineGroup").filter((item, i) => i === index)
                                    .select(".line").classed("faded", false).classed("highlight", true);
                            } else {
                                // Restore all
                                d3.selectAll(".line").classed("faded", false).classed("highlight", false);
                            }
                        });
                    
                    legendItem.append("rect")
                        .attr("width", 15)
                        .attr("height", 15)
                        .attr("fill", colorScale1(i))
                        .attr("class", "legend-color");
                    
                    legendItem.append("text")
                        .attr("x", 20)
                        .attr("y", 12)
                        .text(d.Approach)
                        .style("font-size", "12px")
                        .attr("class", "legend-item");
                });
            }

            // ------------------ Initialization for Data 1 ------------------
            drawRadar("Standard");

            // Metric dropdown for Data 1
            d3.select("#metricSelect").on("change", function(){
                const metric = this.value;
                drawRadar(metric);
            });
        }
    </script>
</body>
</html>
